<div class="p-3 grid gap-3 sm:grid-cols-1 xl:grid-cols-2 3xl:grid-cols-4 text-center text-white">
    <div class="flex flex-col rounded-xl overflow-hidden border-4 sm:col-span-1 xl:col-span-2 3xl:col-span-4">
        <div class="bg-cyan-800 p-3">
            <h1 class="font-medium text-lg" i18n>Images to show</h1>
        </div>
        <div class="px-5 grow bg-cyan-700 border-y-2">
            <p class="my-5" i18n>Upload the images you want to show with this application.</p>
            <div class="flex flex-col justify-center">
                <span i18n>Your uploaded images:</span>
                    <span *ngFor="let image of currentImages; index as i" class="border rounded-lg my-2 overflow-hidden">
                        <p class="w-full bg-cyan-600">{{image.name}}</p>
                        <div class="flex flex-row">
                            <div class="flex justify-center items-center h-fit max-h-32 overflow-hidden m-2 border border-white rounded-lg">
                                <img [src]="image.src" alt="preview for image #{{i+1}}" class="w-48 h-fit">
                            </div>
                            <div class="grow">
                                <div class="w-full">
                                    <button type="button" (click)="pushImageUp(i)" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800" [title]="TEXT_MOVE_IMG_UP">⤴️</button>
                                    <button type="button" (click)="pushImageDown(i)" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800" [title]="TEXT_MOVE_IMG_DOWN">⤵️</button>
                                    <button type="button" (click)="moveImage(i, 'up')" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800" i18n>Move outwards</button>
                                    <button type="button" (click)="moveImage(i, 'down')" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800" i18n>Move inwards</button>
                                    <button type="button" (click)="scaleImage(i, 'plus')" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800 icon-button h-10 w-10" [title]="TEXT_SCALE_IMG_UP">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M981.333333 1024l-170.666667 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S1006.933333 1024 981.333333 1024z"  /><path d="M981.333333 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C1024 1006.933333 1006.933333 1024 981.333333 1024z"  /><path d="M213.333333 85.333333 42.666667 85.333333C17.066667 85.333333 0 68.266667 0 42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S238.933333 85.333333 213.333333 85.333333z"  /><path d="M42.666667 256C17.066667 256 0 238.933333 0 213.333333L0 42.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C85.333333 238.933333 68.266667 256 42.666667 256z"  /><path d="M332.8 375.466667c-12.8 0-21.333333-4.266667-29.866667-12.8L21.333333 81.066667c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l277.333333 277.333333c17.066667 17.066667 17.066667 42.666667 0 59.733333C354.133333 371.2 341.333333 375.466667 332.8 375.466667z"  /><path d="M972.8 1015.466667c-12.8 0-21.333333-4.266667-29.866667-12.8l-277.333333-277.333333c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l277.333333 277.333333c17.066667 17.066667 17.066667 42.666667 0 59.733333C994.133333 1011.2 981.333333 1015.466667 972.8 1015.466667z"  /><path d="M42.666667 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C85.333333 1006.933333 68.266667 1024 42.666667 1024z"  /><path d="M213.333333 1024 42.666667 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S238.933333 1024 213.333333 1024z"  /><path d="M981.333333 256c-25.6 0-42.666667-17.066667-42.666667-42.666667L938.666667 42.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C1024 238.933333 1006.933333 256 981.333333 256z"  /><path d="M981.333333 85.333333l-170.666667 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S1006.933333 85.333333 981.333333 85.333333z"  /><path d="M691.2 375.466667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l277.333333-277.333333c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-277.333333 277.333333C716.8 371.2 704 375.466667 691.2 375.466667z"  /><path d="M51.2 1015.466667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l277.333333-277.333333c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-277.333333 277.333333C72.533333 1011.2 64 1015.466667 51.2 1015.466667z" /></svg>
                                    </button>
                                    <button type="button" (click)="scaleImage(i, 'minus')" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800 icon-button h-10 w-10" [title]="TEXT_SCALE_IMG_DOWN">
                                        <svg class="w-full h-full" viewBox="128 128 768 768" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M672 352h160a32 32 0 0 1 0 64h-192a32 32 0 0 1-32-32V192a32 32 0 0 1 64 0z"  /><path d="M662.72 406.72a32 32 0 0 1-45.44-45.44l224-224a32 32 0 1 1 45.44 45.44zM352 352V192a32 32 0 0 1 64 0v192a32 32 0 0 1-32 32H192a32 32 0 0 1 0-64z"  /><path d="M406.72 361.28a32 32 0 0 1-45.44 45.44l-224-224a32 32 0 0 1 45.44-45.44zM672 672v160a32 32 0 0 1-64 0v-192a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64z"  /><path d="M617.28 662.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1-45.44 45.44zM192 672a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0v-160z"  /><path d="M361.28 617.28a32 32 0 0 1 45.44 45.44l-224 224a32 32 0 0 1-45.44-45.44z" /></svg>
                                    </button>
                                    <button type="button" (click)="flipImage(i, 'h')" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 icon-button h-10 w-10" [title]="TEXT_FLIP_IMG_HOR">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M640 896h85.333333v-85.333333h-85.333333v85.333333z m170.666667-512h85.333333v-85.333333h-85.333333v85.333333zM128 213.333333v597.333334c0 47.146667 38.186667 85.333333 85.333333 85.333333h170.666667v-85.333333h-170.666667V213.333333h170.666667V128h-170.666667c-47.146667 0-85.333333 38.186667-85.333333 85.333333z m682.666667-85.333333v85.333333h85.333333c0-47.146667-38.186667-85.333333-85.333333-85.333333zM469.333333 981.333333h85.333334V42.666667h-85.333334v938.666666z m341.333334-256h85.333333v-85.333333h-85.333333v85.333333z m-170.666667-512h85.333333V128h-85.333333v85.333333z m170.666667 341.333334h85.333333v-85.333334h-85.333333v85.333334z m0 341.333333c47.146667 0 85.333333-38.186667 85.333333-85.333333h-85.333333v85.333333z" /></svg>
                                    </button>
                                    <button type="button" (click)="flipImage(i, 'v')" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 icon-button w-10 h-10" [title]="TEXT_FLIP_IMG_VERT">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="m 128,640 v 85.33333 h 85.33333 V 640 Z M 640,810.66667 V 896 h 85.33333 V 810.66667 Z M 810.66667,128 H 213.33333 C 166.18667,128 128,166.18667 128,213.33333 V 384 h 85.33333 V 213.33333 H 810.66667 V 384 H 896 V 213.33333 C 896,166.18667 857.81333,128 810.66667,128 Z M 896,810.66667 H 810.66667 V 896 C 857.81333,896 896,857.81333 896,810.66667 Z M 42.666667,469.33333 v 85.33334 H 981.33333 V 469.33333 Z M 298.66667,810.66667 V 896 H 384 V 810.66667 Z M 810.66667,640 v 85.33333 H 896 V 640 Z M 469.33333,810.66667 V 896 h 85.33334 v -85.33333 z m -341.33333,0 C 128,857.81333 166.18667,896 213.33333,896 v -85.33333 z" /></svg>
                                    </button>
                                    <button type="button" (click)="deleteImage(i)" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button" [title]="TEXT_DELETE_IMG">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M256 333.872a28.8 28.8 0 0 1 28.8 28.8V768a56.528 56.528 0 0 0 56.544 56.528h341.328A56.528 56.528 0 0 0 739.2 768V362.672a28.8 28.8 0 0 1 57.6 0V768a114.128 114.128 0 0 1-114.128 114.128H341.328A114.128 114.128 0 0 1 227.2 768V362.672a28.8 28.8 0 0 1 28.8-28.8zM405.344 269.648a28.8 28.8 0 0 0 28.8-28.8 56.528 56.528 0 0 1 56.528-56.544h42.656a56.528 56.528 0 0 1 56.544 56.544 28.8 28.8 0 0 0 57.6 0 114.128 114.128 0 0 0-112.64-114.128h-45.648a114.144 114.144 0 0 0-112.64 114.128 28.8 28.8 0 0 0 28.8 28.8z"  /><path d="M163.2 266.672a28.8 28.8 0 0 1 28.8-28.8h640a28.8 28.8 0 0 1 0 57.6H192a28.8 28.8 0 0 1-28.8-28.8zM426.672 371.2a28.8 28.8 0 0 1 28.8 28.8v320a28.8 28.8 0 0 1-57.6 0V400a28.8 28.8 0 0 1 28.8-28.8zM597.344 371.2a28.8 28.8 0 0 1 28.8 28.8v320a28.8 28.8 0 0 1-57.6 0V400a28.8 28.8 0 0 1 28.8-28.8z" /></svg>
                                    </button>
                                    <button type="button" (click)="rotateImage(i, 15)" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button" [title]="TEXT_ROTATE_IMG_PLUS">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-0.4-12.6 6.1l-0.2 64c-118.6 0.5-235.8 53.4-314.6 154.2-69.6 89.2-95.7 198.6-81.1 302.4h74.9c-0.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"  /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32z m-44 402H396V494h440v326z" /></svg>
                                    </button>
                                    <button type="button" (click)="rotateImage(i, -15)" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button" [title]="TEXT_ROTATE_IMG_MINUS">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32z m-44 402H188V494h440v326z"  /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-0.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7 0.4 12.6-6.1v-63.9c12.9 0.1 25.9 0.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8 11 40.7 14 82.7 8.9 124.8-0.7 5.4-1.4 10.8-2.4 16.1h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>
                                    </button>
                                </div>
                                <div class="w-full mt-2">
                                    <p i18n>Position: {{ this.imagePositions[i].value / POSITIONING_STEP_SIZE }}</p>
                                    <p i18n>Size: {{ this.imageSizes[i].value }}%</p>
                                    <p i18n>Rotation: {{ this.imageRotations[i].value }}°</p>
                                    <p i18n>Flipped: {{ getFlippingText(i) }}</p>
                                </div>
                            </div>
                        </div>
                    </span>
                <span *ngIf="!currentImages.length" i18n class="italic">--- You have not uploaded any images yet. ---</span>
            </div>
        </div>
        <div class="p-5 bg-cyan-700 ">
            <button type="button" (click)="imgInput.click()" class="border border-white rounded-md p-2 hover:bg-cyan-800" i18n>Upload Images</button>
            <input type="file" hidden multiple accept=".png,.jpg,.jpeg,.webp" (change)="addImages($event)" #imgInput>
        </div>
    </div>
    
    <div class="flex flex-col rounded-xl overflow-hidden border-4">
        <div class="bg-cyan-800 p-3">
            <h1 class="font-medium text-lg" i18n>Save &amp; load settings</h1>
        </div>
        <div class="px-5 grow bg-cyan-700 border-y-2">
            <p class="my-5" i18n>Save the current settings in a file on your PC.</p>
            <p class="my-5" i18n>You can also load previously save settings from your PC.</p>
        </div>
        <div class="p-5 bg-cyan-700">
            <div class="border border-b-0 py-3 rounded-t-lg">
                <button type="button" (click)="saveSettings()" data-mdb-ripple="true" data-mdb-ripple-color="light" class="p-3 mx-3 border-2 rounded-lg hover:bg-sky-800" i18n>Save</button>
            </div>

            <div class="border p-5 rounded-b-lg text-center">
                <input type="file" (change)="loadSettings($event)" accept=".json" class="block w-full border border-gray-200 shadow-sm rounded-md text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 file:border-0 file:mr-4 file:py-3 file:px-4 file:bg-white">
            </div>
            
        </div>
    </div>

    <div class="flex flex-col rounded-xl overflow-hidden border-4">
        <div class="bg-cyan-800 p-3">
            <h1 class="font-medium text-lg" i18n>Size of the polygon in the middle</h1>
        </div>
        <div class="px-5 grow bg-cyan-700 border-y-2">
            <p class="my-5" i18n>Set the size of the polygon in the middle here.</p>
            <p class="my-5" i18n>This value is determined by the surface area of your mirror.</p>
        </div>
        <div class="p-5 bg-cyan-700 ">
            <input type="range" min="0" max="400" [formControl]="innerPolygonSize" [value]="innerPolygonSize.value" class="form-range h-5 w-3/5 rounded-lg cursor-pointer mx-3">
            
            <span class="border-2 rounded w-1/5 inline-block mx-3">
                <input type="number" [formControl]="innerPolygonSize" [value]="innerPolygonSize.value" class="text-white text-left appearance-none bg-inherit w-1/2 shrink h-5">
                <span class="w-6" i18n>px</span>
            </span>
        </div>
    </div>

    <div class="flex flex-col rounded-xl overflow-hidden border-4">
        <div class="bg-cyan-800 p-3">
            <h1 class="font-medium text-lg" i18n>Number of sides / images</h1>
        </div>
        <div class="px-5 grow bg-cyan-700 border-y-2">
            <p class="my-5" i18n>With this setting you can adjust the number of sides the polygon has.</p>
            <p class="my-5" i18n>Each side displays an image. The number should be between 3 and 10.</p>
            <p class="my-5" i18n>You can use as many images as the polygon has sides. If you use fewer images, the images will be repeated.</p>
        </div>
        <div class="p-5 bg-cyan-700 ">
            <input type="range" min="3" max="10" [formControl]="sideCount" [value]="sideCount.value" class="form-range h-5 w-3/5 rounded-lg cursor-pointer mx-3">
            
            <span class="border-2 rounded w-1/5 inline-block mx-3">
                <input type="number" [formControl]="sideCount" [value]="sideCount.value" class="text-white text-left appearance-none bg-inherit w-1/3 shrink h-5">
                <span class="w-6" i18n>Sides</span>
            </span>
        </div>
    </div>
</div>