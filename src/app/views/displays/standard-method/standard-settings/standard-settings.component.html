<div class="p-3 grid gap-3 sm:grid-cols-1 xl:grid-cols-2 3xl:grid-cols-4 text-center text-white">
    <div class="flex flex-col rounded-xl overflow-hidden border-4 sm:col-span-1 xl:col-span-2 3xl:col-span-4">
        <div class="bg-cyan-800 p-3">
            <h1 class="font-medium text-lg" i18n>Images to show</h1>
        </div>
        <div class="px-5 grow bg-cyan-700 border-y-2">
            <p class="my-5" i18n>Upload the images you want to show with this application.</p>
            <div class="flex flex-col justify-center">
                <span i18n>Your uploaded images:</span>
                    <span *ngFor="let file of getFilesSortedByDisplayIndex(); index as i" class="border rounded-lg my-2 overflow-hidden">
                        <p class="w-full bg-cyan-600">{{file.fileName}}</p>
                        <p *ngIf="file.metaData" class="w-full bg-cyan-600">
                            <!-- write every object as "key: value" -->
                            <ng-container *ngFor="let pair of file.metaData| keyvalue">
                                <span class="text-xs">{{getLocalizedMetaData(pair.key)}}: {{pair.value}}</span>
                            </ng-container>
                        </p>
                        <div class="flex flex-row items-center">
                            <div class="flex justify-center items-center h-fit max-h-32 min-w-1/6 overflow-hidden m-2 border border-white rounded-lg">
                                <img *ngIf="file.mimeType.startsWith('image')" [src]="file.src" alt="preview for image #{{i+1}}" class="w-48 h-fit">
                                <video *ngIf="file.mimeType.startsWith('video')" [src]="file.src" class="w-48 h-fit" autoplay loop [muted]="true"></video>
                            </div>

                            <div class="flex flex-col justify-center items-center min-w-fit">
                                <p>{{ getLocalizedString('position', file.position / POSITIONING_STEP_SIZE) }}</p>
                                <p>{{ getLocalizedString('size', file.scalingFactor) }}</p>
                                <p>{{ getLocalizedString('rotation', file.rotation) }}</p>
                                <p>{{ getLocalizedString('flipped', getFlippingText(i)) }}</p>
                                <p>{{ getLocalizedString('brightness', file.brightness) }}</p>
                                <p *ngIf="file.fps">{{ getLocalizedString('framerate', convertToReadableFps(file.fps.framerate)) }}</p>
                            </div>

                            <div class="grow">
                                <div class="w-full pb-2">
                                    <button type="button" (click)="pushImageUp(i)" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800" [title]="TEXT_MOVE_IMG_UP">⤴️</button>
                                    <button type="button" (click)="pushImageDown(i)" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800" [title]="TEXT_MOVE_IMG_DOWN">⤵️</button>
                                    <button type="button" (click)="moveImage(i, 'up')" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800 w-10 h-10 icon-button-stroke" [title]="TEXT_MOVE_IMG_OUT">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" stroke-width="75" stroke-linecap="round"><path d="m1021 2.6458c-0.9668 336.49 1.2107 682.22 0 1018.7"/><path d="m1021.4 1021.4-1018.7-375.19v-279.69l1018.7-363.82"/><path d="m249.93 512h505.33"/><path d="m761.97 512-100.94-79.335"/><path d="m761.97 512s-58.199 42.954-92.732 72.765"/></svg>
                                    </button>
                                    <button type="button" (click)="moveImage(i, 'down')" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800 w-10 h-10 icon-button-stroke" [title]="TEXT_MOVE_IMG_IN">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" stroke-width="75" stroke-linecap="round"><path d="m1021 2.6458c-0.9668 336.49 1.2107 682.22 0 1018.7"/><path d="m1021.4 1021.4-1018.7-375.19v-279.69l1018.7-363.82"/><path d="m761.97 512h-505.33"/><path d="m249.93 512 100.94-79.335"/><path d="m249.93 512s58.199 42.954 92.732 72.765"/></svg>                                        
                                    </button>
                                    <button type="button" (click)="scaleImage(i, 'plus')" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800 icon-button-fill h-10 w-10" [title]="TEXT_SCALE_IMG_UP">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M981.333333 1024l-170.666667 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S1006.933333 1024 981.333333 1024z"  /><path d="M981.333333 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C1024 1006.933333 1006.933333 1024 981.333333 1024z"  /><path d="M213.333333 85.333333 42.666667 85.333333C17.066667 85.333333 0 68.266667 0 42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S238.933333 85.333333 213.333333 85.333333z"  /><path d="M42.666667 256C17.066667 256 0 238.933333 0 213.333333L0 42.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C85.333333 238.933333 68.266667 256 42.666667 256z"  /><path d="M332.8 375.466667c-12.8 0-21.333333-4.266667-29.866667-12.8L21.333333 81.066667c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l277.333333 277.333333c17.066667 17.066667 17.066667 42.666667 0 59.733333C354.133333 371.2 341.333333 375.466667 332.8 375.466667z"  /><path d="M972.8 1015.466667c-12.8 0-21.333333-4.266667-29.866667-12.8l-277.333333-277.333333c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l277.333333 277.333333c17.066667 17.066667 17.066667 42.666667 0 59.733333C994.133333 1011.2 981.333333 1015.466667 972.8 1015.466667z"  /><path d="M42.666667 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667l0-170.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C85.333333 1006.933333 68.266667 1024 42.666667 1024z"  /><path d="M213.333333 1024 42.666667 1024c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S238.933333 1024 213.333333 1024z"  /><path d="M981.333333 256c-25.6 0-42.666667-17.066667-42.666667-42.666667L938.666667 42.666667c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 170.666667C1024 238.933333 1006.933333 256 981.333333 256z"  /><path d="M981.333333 85.333333l-170.666667 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S1006.933333 85.333333 981.333333 85.333333z"  /><path d="M691.2 375.466667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l277.333333-277.333333c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-277.333333 277.333333C716.8 371.2 704 375.466667 691.2 375.466667z"  /><path d="M51.2 1015.466667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l277.333333-277.333333c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-277.333333 277.333333C72.533333 1011.2 64 1015.466667 51.2 1015.466667z" /></svg>
                                    </button>
                                    <button type="button" (click)="scaleImage(i, 'minus')" class="mx-2 mt-2 p-2 border rounded hover:bg-sky-800 icon-button-fill h-10 w-10" [title]="TEXT_SCALE_IMG_DOWN">
                                        <svg class="w-full h-full" viewBox="128 128 768 768" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M672 352h160a32 32 0 0 1 0 64h-192a32 32 0 0 1-32-32V192a32 32 0 0 1 64 0z"  /><path d="M662.72 406.72a32 32 0 0 1-45.44-45.44l224-224a32 32 0 1 1 45.44 45.44zM352 352V192a32 32 0 0 1 64 0v192a32 32 0 0 1-32 32H192a32 32 0 0 1 0-64z"  /><path d="M406.72 361.28a32 32 0 0 1-45.44 45.44l-224-224a32 32 0 0 1 45.44-45.44zM672 672v160a32 32 0 0 1-64 0v-192a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64z"  /><path d="M617.28 662.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1-45.44 45.44zM192 672a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0v-160z"  /><path d="M361.28 617.28a32 32 0 0 1 45.44 45.44l-224 224a32 32 0 0 1-45.44-45.44z" /></svg>
                                    </button>
                                    <button type="button" (click)="flipImage(i, 'h')" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 icon-button-fill h-10 w-10" [title]="TEXT_FLIP_IMG_HOR">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M640 896h85.333333v-85.333333h-85.333333v85.333333z m170.666667-512h85.333333v-85.333333h-85.333333v85.333333zM128 213.333333v597.333334c0 47.146667 38.186667 85.333333 85.333333 85.333333h170.666667v-85.333333h-170.666667V213.333333h170.666667V128h-170.666667c-47.146667 0-85.333333 38.186667-85.333333 85.333333z m682.666667-85.333333v85.333333h85.333333c0-47.146667-38.186667-85.333333-85.333333-85.333333zM469.333333 981.333333h85.333334V42.666667h-85.333334v938.666666z m341.333334-256h85.333333v-85.333333h-85.333333v85.333333z m-170.666667-512h85.333333V128h-85.333333v85.333333z m170.666667 341.333334h85.333333v-85.333334h-85.333333v85.333334z m0 341.333333c47.146667 0 85.333333-38.186667 85.333333-85.333333h-85.333333v85.333333z" /></svg>
                                    </button>
                                    <button type="button" (click)="flipImage(i, 'v')" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 icon-button-fill w-10 h-10" [title]="TEXT_FLIP_IMG_VERT">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="m 128,640 v 85.33333 h 85.33333 V 640 Z M 640,810.66667 V 896 h 85.33333 V 810.66667 Z M 810.66667,128 H 213.33333 C 166.18667,128 128,166.18667 128,213.33333 V 384 h 85.33333 V 213.33333 H 810.66667 V 384 H 896 V 213.33333 C 896,166.18667 857.81333,128 810.66667,128 Z M 896,810.66667 H 810.66667 V 896 C 857.81333,896 896,857.81333 896,810.66667 Z M 42.666667,469.33333 v 85.33334 H 981.33333 V 469.33333 Z M 298.66667,810.66667 V 896 H 384 V 810.66667 Z M 810.66667,640 v 85.33333 H 896 V 640 Z M 469.33333,810.66667 V 896 h 85.33334 v -85.33333 z m -341.33333,0 C 128,857.81333 166.18667,896 213.33333,896 v -85.33333 z" /></svg>
                                    </button>
                                    <button type="button" (click)="rotateImage(i, 15)" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button-fill" [title]="TEXT_ROTATE_IMG_PLUS">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-0.4-12.6 6.1l-0.2 64c-118.6 0.5-235.8 53.4-314.6 154.2-69.6 89.2-95.7 198.6-81.1 302.4h74.9c-0.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"  /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32z m-44 402H396V494h440v326z" /></svg>
                                    </button>
                                    <button type="button" (click)="rotateImage(i, -15)" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button-fill" [title]="TEXT_ROTATE_IMG_MINUS">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32z m-44 402H188V494h440v326z"  /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-0.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7 0.4 12.6-6.1v-63.9c12.9 0.1 25.9 0.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8 11 40.7 14 82.7 8.9 124.8-0.7 5.4-1.4 10.8-2.4 16.1h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>
                                    </button>
                                    <button type="button" (click)="changeImageBrightness(i, +10)" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button-fill" [title]="TEXT_IMG_BRIGHTER">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M501.5 1.8c-6.9 2.4-11.8 7-15 14.2-2.3 5.3-2.6 11-2.6 87.5 0 88.3.1 89.7 7.4 97.7a27.8 27.8 0 0 0 43.3-3.7l4.2-6.3.4-84.4c.3-81 .3-84.6-2.4-89.7-7.2-14.3-21.4-20.4-35.3-15.3ZM346 93.9a30.3 30.3 0 0 0-20.5 29c0 6 2.1 12.3 12 35.5 22.6 53.7 24.7 57.4 35.8 63.2 7.2 3.9 18 3.9 25.3 0 11.3-5.8 18.5-18.7 16.8-29.7-.8-5-27.5-67.9-34.7-81.8-4.9-9.4-10.2-14.2-18.3-16.5a23.3 23.3 0 0 0-16.4.3zM661 93.3c-7.5 2-13.2 5.8-16.7 11.2a712.7 712.7 0 0 0-19.7 43.7c-15.4 36.2-16.4 38.9-16.4 47.7 0 7.8.7 10.2 3.8 15.2 11.4 17.6 38.3 18 49.4.9 2.4-3.5 11.3-23 19.9-43.7 14-33.2 15.7-38 15.7-45.3-.2-6.5-1-9.5-4.2-15-6.8-11.3-20.7-17.7-31.8-14.7ZM161 136c-6.3 2-14.7 9.9-17.6 16.3a26 26 0 0 0-.1 21.6 1525 1525 0 0 0 64.3 67c65 65.7 65 65.7 77 65.7 13.7-.1 27-15 27-30.1 0-11.8-2.9-15.4-63.2-76a2450.6 2450.6 0 0 0-62.2-61.2c-5.4-4-18-5.5-25.3-3.2zM841.9 136.6c-6.4 2.5-8 3.7-23.2 19.5l-57.5 58.1c-34.6 34.8-46.3 47.5-48.4 52.3-3.9 8.8-2.9 19.5 2.2 27.2a33 33 0 0 0 23.7 12.9c12.5 0 16.6-3.6 72.5-60 56.8-57.2 67.3-68.3 69.8-73.2 5.3-10.3-2.7-28.7-15.5-35.5-5.8-3-17.4-3.7-23.6-1.3zM489.2 247A278.2 278.2 0 0 0 377 285a270.5 270.5 0 0 0-126.6 248.7c6.1 84.3 47.8 157 116 202.3 34.3 23 79 38.6 121.6 42.5 19.8 1.9 44 .9 46.6-1.8.9-1 2.7-6.7 4-12.5 1.5-5.8 5-18 8-26.9 3.6-10.2 5-16.6 4.2-17.5-.9-.8-7.3-.7-18 .3-46.5 4.4-99.1-9-136.1-34.5a199.4 199.4 0 0 1-84.7-129c-3.6-17-3.5-65 0-82.3 5.2-25.7 17-54.6 30.2-75.6A213 213 0 0 1 473.6 308a211 211 0 0 1 75.6-.3 198 198 0 0 1 99.7 52.3 205.1 205.1 0 0 1 46.6 63.4c18.7 39 24.3 85.1 16 131.5-.9 5-1.2 9.3-.8 10 1.2.9 55-12.2 57.5-14.2 4.4-3.4 6.3-49.3 3.1-73.1-5.7-43.4-27-94.8-52-126.5-44.3-56-95.8-88.1-162.6-101.3-17-3.3-49.2-4.7-67.5-2.9zM104.7 320.4a28.3 28.3 0 0 0-16 26.6c.1 16.7 5.8 22.6 34.9 36.3 12.2 5.7 31.8 15.1 43.6 20.8a215.5 215.5 0 0 0 26.5 11.2c14 2.7 29-9.2 32.5-25.9.6-2.8 0-7.6-1.4-12.6-3.7-13.2-9.4-17.6-42.3-33.1-63.1-29.6-65-30.1-77.8-23.3zM884.7 323.5c-46.6 21.2-69.2 32-75 36.1A31.2 31.2 0 0 0 797 394c3.8 13.4 18.5 23.6 31 21.5 2.7-.5 11.1-3.7 18.8-7.3l29.4-13.6c30.9-14.2 48.2-24.3 53-30.7 14.1-19 .4-47.2-23.1-47.4-4.5 0-10.6 2-21.5 7zM18.1 486.4c-22.3 8-24.6 41-3.6 51.8 5.3 2.9 8 3 92.3 2.9 47.6 0 88.2-.6 90-1.3a31 31 0 0 0 17.6-26.6 36 36 0 0 0-10.7-22.7c-8.2-6.1-9.7-6.3-96.8-6.3-67.1.2-84.6.6-88.8 2.2zM826.3 486a28.8 28.8 0 0 0-16.1 38.7c3 6.9 7.5 11.3 14.3 14.2 4.5 1.9 16.8 2.2 92.5 2.2h87.4l6.1-4.3c15.2-10.4 18-27.7 6.4-42-8.8-10.9-5-10.6-101-10.4-55.8 0-86.8.5-89.6 1.5z" /><path d="M779.8 604.6a215.8 215.8 0 0 0-113.5 44 235.8 235.8 0 0 0-55.6 67.3 245.4 245.4 0 0 0-17.5 45.4 186 186 0 0 0-6 58.3 207.5 207.5 0 0 0 50 130.9 221 221 0 0 0 59.6 47.7 303.4 303.4 0 0 0 52.4 18.2c14.3 3.3 53.6 4.4 69.9 2.2a212.4 212.4 0 0 0 74.3-26.2c51.1-31 85.9-81.3 99.2-144a237 237 0 0 0 .5-72.8c-11.5-65.1-54.4-122.1-113.7-151.2a187.5 187.5 0 0 0-69-19.4c-13-1.3-17.8-1.4-30.6-.4zm23.3 65.7c7 3.6 12.5 9.9 14.2 15.9.8 2.7 1.4 24.7 1.4 49.6 0 25.7.5 45.6 1.4 46.9 1 1.8 8.4 2.2 48.2 2.8 45.8.7 47 .9 52.5 4 20.7 12.2 15.8 44.3-7.7 49.9a473 473 0 0 1-48.7 1.5c-33 0-43 .4-44 1.9-1 1.1-1.7 18-2 48.7l-.4 47-4 5.9a29.3 29.3 0 0 1-20.6 12.5c-8.9 1.1-20-5.1-24.3-13.5-3.2-6.1-3.2-7.1-3.2-52 0-34.3-.4-46.2-1.7-48-1.6-2.2-7-2.5-49.2-2.8l-47.3-.4-4.9-3.4c-7-5-11.1-12-12-20a31.4 31.4 0 0 1 12.7-26.8l5.6-3.8 46-.4c39.7-.4 46.2-.7 48.3-2.7 2.3-2.1 2.5-6.1 2.5-49.8 0-37.9.4-48.1 2-51.3a26.9 26.9 0 0 1 35.2-11.7zM190.8 610.9c-6.1 1-7.5 1.7-48.6 21.8a546.3 546.3 0 0 0-39.6 20.8 39.7 39.7 0 0 0-13.9 23c-3 16.2 11.4 33.7 27.6 33.7 8.2 0 12.5-1.9 57.8-24.5 40.6-20.3 45.3-23.5 49.3-34.5 8.2-21.9-10.1-44.5-32.6-40.3zM276.8 717.3c-2.8.4-7 2.1-9.3 3.7-8 5.1-122.1 122-125.2 128.2-9.2 18.3 5.6 41.5 26.3 41.5 3.9 0 9-1 11.5-2.3 6.5-3.4 126.3-125 129-131.2 5.2-10.8 1.9-23.7-8.3-33-7-6.6-14.7-8.8-24-7zM379.6 799.7c-7 1.3-14 6.1-18.4 12.4a852 852 0 0 0-35.1 81.3 31.7 31.7 0 0 0 22 39.2c6.6 1.8 8.1 2 14.4 0 11.4-3.4 17.6-11.7 26.8-35.1 2.2-5.7 8.8-21.6 14.7-35.3 11.7-27.4 12.8-33.2 8-44.2-2.4-5.5-12.6-16.7-15.3-16.9L390 800c-3-.6-7.7-.7-10.5-.3zM499.9 820.5a28.2 28.2 0 0 0-13.4 14c-2.3 5.3-2.6 11-2.6 86.7v81l4.2 7.3c3.2 5.8 5.7 8.2 11.4 11 13.2 6.9 26.2 3.5 35-9l4.3-6V837.4l-4.2-6.4a26.2 26.2 0 0 0-23-12.8c-4.2 0-9.4 1-11.7 2.3z" /></svg>
                                    </button>
                                    <button type="button" (click)="changeImageBrightness(i, -10)" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button-fill" [title]="TEXT_IMG_DARKER">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M501.5 1.8c-6.9 2.4-11.8 7-15 14.2-2.3 5.3-2.6 11-2.6 87.5 0 88.3.1 89.7 7.4 97.7a27.8 27.8 0 0 0 43.3-3.7l4.2-6.3.4-84.4c.3-81 .3-84.6-2.4-89.7-7.2-14.3-21.4-20.4-35.3-15.3ZM346 93.9a30.3 30.3 0 0 0-20.5 29c0 6 2.1 12.3 12 35.5 22.6 53.7 24.7 57.4 35.8 63.2 7.2 3.9 18 3.9 25.3 0 11.3-5.8 18.5-18.7 16.8-29.7-.8-5-27.5-67.9-34.7-81.8-4.9-9.4-10.2-14.2-18.3-16.5a23.3 23.3 0 0 0-16.4.3zM661 93.3c-7.5 2-13.2 5.8-16.7 11.2a712.7 712.7 0 0 0-19.7 43.7c-15.4 36.2-16.4 38.9-16.4 47.7 0 7.8.7 10.2 3.8 15.2 11.4 17.6 38.3 18 49.4.9 2.4-3.5 11.3-23 19.9-43.7 14-33.2 15.7-38 15.7-45.3-.2-6.5-1-9.5-4.2-15-6.8-11.3-20.7-17.7-31.8-14.7ZM161 136c-6.3 2-14.7 9.9-17.6 16.3a26 26 0 0 0-.1 21.6 1525 1525 0 0 0 64.3 67c65 65.7 65 65.7 77 65.7 13.7-.1 27-15 27-30.1 0-11.8-2.9-15.4-63.2-76a2450.6 2450.6 0 0 0-62.2-61.2c-5.4-4-18-5.5-25.3-3.2zM841.9 136.6c-6.4 2.5-8 3.7-23.2 19.5l-57.5 58.1c-34.6 34.8-46.3 47.5-48.4 52.3-3.9 8.8-2.9 19.5 2.2 27.2a33 33 0 0 0 23.7 12.9c12.5 0 16.6-3.6 72.5-60 56.8-57.2 67.3-68.3 69.8-73.2 5.3-10.3-2.7-28.7-15.5-35.5-5.8-3-17.4-3.7-23.6-1.3zM489.2 247A278.2 278.2 0 0 0 377 285a270.5 270.5 0 0 0-126.6 248.7c6.1 84.3 47.8 157 116 202.3 34.3 23 79 38.6 121.6 42.5 19.8 1.9 44 .9 46.6-1.8.9-1 2.7-6.7 4-12.5 1.5-5.8 5-18 8-26.9 3.6-10.2 5-16.6 4.2-17.5-.9-.8-7.3-.7-18 .3-46.5 4.4-99.1-9-136.1-34.5a199.4 199.4 0 0 1-84.7-129c-3.6-17-3.5-65 0-82.3 5.2-25.7 17-54.6 30.2-75.6A213 213 0 0 1 473.6 308a211 211 0 0 1 75.6-.3 198 198 0 0 1 99.7 52.3 205.1 205.1 0 0 1 46.6 63.4c18.7 39 24.3 85.1 16 131.5-.9 5-1.2 9.3-.8 10 1.2.9 55-12.2 57.5-14.2 4.4-3.4 6.3-49.3 3.1-73.1-5.7-43.4-27-94.8-52-126.5-44.3-56-95.8-88.1-162.6-101.3-17-3.3-49.2-4.7-67.5-2.9zM104.7 320.4a28.3 28.3 0 0 0-16 26.6c.1 16.7 5.8 22.6 34.9 36.3 12.2 5.7 31.8 15.1 43.6 20.8a215.5 215.5 0 0 0 26.5 11.2c14 2.7 29-9.2 32.5-25.9.6-2.8 0-7.6-1.4-12.6-3.7-13.2-9.4-17.6-42.3-33.1-63.1-29.6-65-30.1-77.8-23.3zM884.7 323.5c-46.6 21.2-69.2 32-75 36.1A31.2 31.2 0 0 0 797 394c3.8 13.4 18.5 23.6 31 21.5 2.7-.5 11.1-3.7 18.8-7.3l29.4-13.6c30.9-14.2 48.2-24.3 53-30.7 14.1-19 .4-47.2-23.1-47.4-4.5 0-10.6 2-21.5 7zM18.1 486.4c-22.3 8-24.6 41-3.6 51.8 5.3 2.9 8 3 92.3 2.9 47.6 0 88.2-.6 90-1.3a31 31 0 0 0 17.6-26.6 36 36 0 0 0-10.7-22.7c-8.2-6.1-9.7-6.3-96.8-6.3-67.1.2-84.6.6-88.8 2.2zM826.3 486a28.8 28.8 0 0 0-16.1 38.7c3 6.9 7.5 11.3 14.3 14.2 4.5 1.9 16.8 2.2 92.5 2.2h87.4l6.1-4.3c15.2-10.4 18-27.7 6.4-42-8.8-10.9-5-10.6-101-10.4-55.8 0-86.8.5-89.6 1.5z" style="stroke-width:6.75446"/><path d="M779.8 604.6a215.8 215.8 0 0 0-113.5 44 235.8 235.8 0 0 0-55.6 67.3 245.4 245.4 0 0 0-17.5 45.4 186 186 0 0 0-6 58.3 207.5 207.5 0 0 0 50 130.9 221 221 0 0 0 59.6 47.7 303.4 303.4 0 0 0 52.4 18.2c14.3 3.3 53.6 4.4 69.9 2.2a212.4 212.4 0 0 0 74.3-26.2c51.1-31 85.9-81.3 99.2-144a237 237 0 0 0 .5-72.8c-11.5-65.1-54.4-122.1-113.7-151.2a187.5 187.5 0 0 0-69-19.4c-13-1.3-17.8-1.4-30.6-.4zm29.6 180.8c3.8 0 19.1-.5 58.9.1 45.8.7 47 .9 52.5 4 20.7 12.2 15.8 44.3-7.7 49.9a473 473 0 0 1-48.7 1.5c-33 0-38.4-.4-44-.3-25.2.2-30.4-.2-55.8.2-6 .3-7.3.1-49.6-.2l-47.3-.4-4.9-3.4c-7-5-11.1-12-12-20a31.4 31.4 0 0 1 12.7-26.8l5.6-3.8 46-.4c39.7-.4 49.2-.3 52.6-.5l41.7.1zM190.8 610.9c-6.1 1-7.5 1.7-48.6 21.8a546.3 546.3 0 0 0-39.6 20.8 39.7 39.7 0 0 0-13.9 23c-3 16.2 11.4 33.7 27.6 33.7 8.2 0 12.5-1.9 57.8-24.5 40.6-20.3 45.3-23.5 49.3-34.5 8.2-21.9-10.1-44.5-32.6-40.3zM276.8 717.3c-2.8.4-7 2.1-9.3 3.7-8 5.1-122.1 122-125.2 128.2-9.2 18.3 5.6 41.5 26.3 41.5 3.9 0 9-1 11.5-2.3 6.5-3.4 126.3-125 129-131.2 5.2-10.8 1.9-23.7-8.3-33-7-6.6-14.7-8.8-24-7zM379.6 799.7c-7 1.3-14 6.1-18.4 12.4a852 852 0 0 0-35.1 81.3 31.7 31.7 0 0 0 22 39.2c6.6 1.8 8.1 2 14.4 0 11.4-3.4 17.6-11.7 26.8-35.1 2.2-5.7 8.8-21.6 14.7-35.3 11.7-27.4 12.8-33.2 8-44.2-2.4-5.5-12.6-16.7-15.3-16.9L390 800c-3-.6-7.7-.7-10.5-.3zM499.9 820.5a28.2 28.2 0 0 0-13.4 14c-2.3 5.3-2.6 11-2.6 86.7v81l4.2 7.3c3.2 5.8 5.7 8.2 11.4 11 13.2 6.9 26.2 3.5 35-9l4.3-6V837.4l-4.2-6.4a26.2 26.2 0 0 0-23-12.8c-4.2 0-9.4 1-11.7 2.3z" style="stroke-width:6.75446"/></svg>
                                    </button>
                                    <button type="button" (click)="changeFps(i, +1)" *ngIf="file.fps" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button-fill" [title]="TEXT_FPS_PLUS">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="m840.66 67c-45.623 0-83.267 11.202-112.93 33.605-29.665 22.217-44.496 50.783-44.496 85.695 0 30.432 8.9176 55.17 26.754 74.213 18.024 18.857 45.624 32.206 82.799 40.047 18.4 3.734 35.765 6.8132 52.1 9.2402 16.522 2.4271 31.825 5.5082 45.906 9.2422 18.587 4.8542 32.386 11.669 41.398 20.443 9.1998 8.7748 13.799 22.404 13.799 40.887 0 21.47-9.6676 38.647-29.006 51.529-19.151 12.882-45.999 19.322-80.545 19.322-24.408 0-50.506-4.7596-78.293-14.281-27.787-9.5216-52.288-23.058-73.504-40.607h-3.9434v69.451c24.971 11.015 49.472 19.325 73.504 24.926 24.22 5.601 51.444 8.4004 81.672 8.4004 28.163 0 52.194-3.3609 72.096-10.082 20.089-6.7211 37.644-16.055 52.664-28.004 13.706-11.015 24.314-24.457 31.824-40.326 7.6978-15.869 11.547-31.927 11.547-48.17 0-29.872-7.8852-53.114-23.656-69.73-15.771-16.616-39.24-29.031-70.406-37.246-15.396-3.9207-34.172-7.7484-56.326-11.482-22.155-3.734-39.24-6.9077-51.256-9.5215-22.718-5.2276-38.582-12.789-47.594-22.684-9.012-9.895-13.518-23.526-13.518-40.889 0-19.417 9.0111-35.285 27.035-47.607 18.212-12.322 42.243-18.482 72.096-18.482 27.224 0 53.792 4.4799 79.701 13.441 26.097 8.7748 47.125 19.884 63.084 33.326h3.9414v-65.531c-18.963-8.2147-40.741-15.122-65.336-20.723-24.595-5.601-51.633-8.4023-81.109-8.4023zm-820.66 7.5605v416.99h55.762v-200.79h182.21v-49.287h-182.21v-117.62h212.06v-49.289h-267.83zm331.47 0v416.99h55.762v-155.43h55.764c30.04 0 54.915-3.5461 74.629-10.641 19.714-7.2812 36.799-18.111 51.256-32.486 11.641-11.575 20.654-25.204 27.037-40.887 6.5713-15.869 9.8574-33.046 9.8574-51.529 0-24.271-4.4121-44.34-13.236-60.209-8.6365-15.869-20.936-29.126-36.895-39.768-13.518-8.9615-29.006-15.496-46.467-19.604-17.461-4.2941-38.771-6.4414-63.93-6.4414h-113.78zm55.762 47.609h55.199c17.649 0 32.2 1.3061 43.652 3.9199 11.641 2.4271 21.966 6.5346 30.979 12.322 10.326 6.7212 18.024 15.403 23.094 26.045s7.6035 23.15 7.6035 37.525c0 12.322-1.8778 23.431-5.6328 33.326-3.5673 9.895-9.7617 19.324-18.586 28.285-8.8243 8.7748-20.278 15.215-34.359 19.322-14.081 3.9207-32.386 5.8809-54.916 5.8809h-47.033v-166.63zm104.77 403.07a216.06 215.85 0 0 0-216.06 215.85 216.06 215.85 0 0 0 216.06 215.85 216.06 215.85 0 0 0 216.06-215.85 216.06 215.85 0 0 0-216.06-215.85zm-17.906 80.543h35.812v118.83h119.09v36.34h-119.09v118.83h-35.812v-118.83h-119.09v-36.34h119.09v-118.83z" stop-color="#000000" stroke="#00f" stroke-linecap="round" stroke-linejoin="round" stroke-width=".1"/></svg>
                                    </button>
                                    <button type="button" (click)="changeFps(i, -1)" *ngIf="file.fps" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button-fill" [title]="TEXT_FPS_MINUS">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="m840.66 67c-45.623 0-83.267 11.202-112.93 33.605-29.665 22.217-44.496 50.783-44.496 85.695 0 30.432 8.9176 55.17 26.754 74.213 18.024 18.857 45.624 32.206 82.799 40.047 18.4 3.734 35.765 6.8132 52.1 9.2402 16.522 2.4271 31.825 5.5082 45.906 9.2422 18.587 4.8542 32.386 11.669 41.398 20.443 9.1998 8.7748 13.799 22.404 13.799 40.887 0 21.47-9.6676 38.647-29.006 51.529-19.151 12.882-45.999 19.322-80.545 19.322-24.408 0-50.506-4.7596-78.293-14.281-27.787-9.5216-52.288-23.058-73.504-40.607h-3.9434v69.451c24.971 11.015 49.472 19.325 73.504 24.926 24.22 5.601 51.444 8.4004 81.672 8.4004 28.163 0 52.194-3.3609 72.096-10.082 20.089-6.7211 37.644-16.055 52.664-28.004 13.706-11.015 24.314-24.457 31.824-40.326 7.6978-15.869 11.547-31.927 11.547-48.17 0-29.872-7.8852-53.114-23.656-69.73-15.771-16.616-39.24-29.031-70.406-37.246-15.396-3.9207-34.172-7.7484-56.326-11.482-22.155-3.734-39.24-6.9077-51.256-9.5215-22.718-5.2276-38.582-12.789-47.594-22.684-9.012-9.895-13.518-23.526-13.518-40.889 0-19.417 9.0111-35.285 27.035-47.607 18.212-12.322 42.243-18.482 72.096-18.482 27.224 0 53.792 4.4799 79.701 13.441 26.097 8.7748 47.125 19.884 63.084 33.326h3.9414v-65.531c-18.963-8.2147-40.741-15.122-65.336-20.723-24.595-5.601-51.633-8.4023-81.109-8.4023zm-820.66 7.5605v416.99h55.762v-200.79h182.21v-49.287h-182.21v-117.62h212.06v-49.289h-267.83zm331.47 0v416.99h55.762v-155.43h55.764c30.04 0 54.915-3.5461 74.629-10.641 19.714-7.2812 36.799-18.111 51.256-32.486 11.641-11.575 20.654-25.204 27.037-40.887 6.5713-15.869 9.8574-33.046 9.8574-51.529 0-24.271-4.4121-44.34-13.236-60.209-8.6365-15.869-20.936-29.126-36.895-39.768-13.518-8.9615-29.006-15.496-46.467-19.604-17.461-4.2941-38.771-6.4414-63.93-6.4414h-113.78zm55.762 47.609h55.199c17.649 0 32.2 1.3061 43.652 3.9199 11.641 2.4271 21.966 6.5346 30.979 12.322 10.326 6.7212 18.024 15.403 23.094 26.045s7.6035 23.15 7.6035 37.525c0 12.322-1.8778 23.431-5.6328 33.326-3.5673 9.895-9.7617 19.324-18.586 28.285-8.8243 8.7748-20.278 15.215-34.359 19.322-14.081 3.9207-32.386 5.8809-54.916 5.8809h-47.033v-166.63zm104.77 403.07a216.06 215.85 0 0 0-216.06 215.85 216.06 215.85 0 0 0 216.06 215.85 216.06 215.85 0 0 0 216.06-215.85 216.06 215.85 0 0 0-216.06-215.85zm-112 199.66h224v37.783h-224v-37.783z" stop-color="#000000" stroke="#00f" stroke-linecap="round" stroke-linejoin="round" stroke-width=".1"/></svg>
                                    </button>
                                    <button type="button" (click)="deleteImage(i)" class="mx-2 mt-2 p-1 border rounded hover:bg-sky-800 h-10 w-10 icon-button-fill" [title]="TEXT_DELETE_IMG">
                                        <svg class="w-full h-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M256 333.872a28.8 28.8 0 0 1 28.8 28.8V768a56.528 56.528 0 0 0 56.544 56.528h341.328A56.528 56.528 0 0 0 739.2 768V362.672a28.8 28.8 0 0 1 57.6 0V768a114.128 114.128 0 0 1-114.128 114.128H341.328A114.128 114.128 0 0 1 227.2 768V362.672a28.8 28.8 0 0 1 28.8-28.8zM405.344 269.648a28.8 28.8 0 0 0 28.8-28.8 56.528 56.528 0 0 1 56.528-56.544h42.656a56.528 56.528 0 0 1 56.544 56.544 28.8 28.8 0 0 0 57.6 0 114.128 114.128 0 0 0-112.64-114.128h-45.648a114.144 114.144 0 0 0-112.64 114.128 28.8 28.8 0 0 0 28.8 28.8z"  /><path d="M163.2 266.672a28.8 28.8 0 0 1 28.8-28.8h640a28.8 28.8 0 0 1 0 57.6H192a28.8 28.8 0 0 1-28.8-28.8zM426.672 371.2a28.8 28.8 0 0 1 28.8 28.8v320a28.8 28.8 0 0 1-57.6 0V400a28.8 28.8 0 0 1 28.8-28.8zM597.344 371.2a28.8 28.8 0 0 1 28.8 28.8v320a28.8 28.8 0 0 1-57.6 0V400a28.8 28.8 0 0 1 28.8-28.8z" /></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </span>
                <span *ngIf="!lastUsedSettings?.fileSettings?.length" i18n class="italic">--- You have not uploaded any images yet. ---</span>
            </div>
        </div>
        <div class="p-5 bg-cyan-700 flex flex-row flex-wrap justify-center gap-8 gap-y-4">
            <button type="button" (click)="imgInput.click()" class="border border-white rounded-md p-2 hover:bg-cyan-800" i18n>Upload Image(s)</button>
            <input type="file" hidden multiple accept=".png,.jpg,.jpeg,.webp,.gif,.mp4,.webm" (change)="onUploadImagesClick($event)" #imgInput>

            <div class="border border-white rounded-md overflow-hidden flex flex-wrap md:flex-nowrap">
                <input type="url" #imgUrlInput (input)="urlFileTypeSelect.value = guessFileType(imgUrlInput.value)" [placeholder]="TEXT_IMG_URL_PLACEH" class="p-2 text-black text-center md:text-end focus:outline-none w-full md:grow">
                <select class="p-2 bg-cyan-700 hover:bg-sky-800 text-center min-w-full md:min-w-fit md:shrink" #urlFileTypeSelect>
                    <option value="image/png" i18n>PNG-Image</option>
                    <option value="image/jpg" i18n>JPG-Image</option>
                    <option value="image/webp" i18n>WebP-Image</option>
                    <option value="image/gif" i18n>GIF</option>
                    <option value="unknown" selected i18n>Unknown</option>
                </select>
                <button type="button" class="p-2 px-4 disabled:bg-slate-700 hover:bg-sky-800 text-center min-w-full md:min-w-fit md:shrink" (click)="addImageByUrl(imgUrlInput.value, urlFileTypeSelect.value)" [disabled]="!isUploadButtonEnabled(urlFileTypeSelect, imgUrlInput.value)">Add by URL</button>
            </div>
                
        </div>
    </div>
    
    <div class="flex flex-col rounded-xl overflow-hidden border-4">
        <div class="bg-cyan-800 p-3">
            <h1 class="font-medium text-lg" i18n>Save &amp; load settings</h1>
        </div>
        <div class="px-5 grow bg-cyan-700 border-y-2">
            <p class="my-5" i18n>Save the current settings in a file on your PC.</p>
            <p class="my-5" i18n>You can also load previously save settings from your PC.</p>
        </div>
        <div class="p-5 bg-cyan-700">
            <div class="border border-b-0 py-3 rounded-t-lg flex flex-wrap gap-4 justify-center">
                <button type="button" (click)="saveSettings()" data-mdb-ripple="true" data-mdb-ripple-color="light" class="p-3 border-2 rounded-lg hover:bg-sky-800" i18n>Save</button>
                <button type="button" (click)="resetSettings()" data-mdb-ripple="true" data-mdb-ripple-color="light" class="p-3 border-2 rounded-lg hover:bg-sky-800" i18n>Load Initial Settings</button>
            </div>

            <div class="border p-5 rounded-b-lg text-center">
                <input type="file" (change)="onLoadSettingsClick($event)" accept=".json" class="block w-full border border-gray-200 shadow-sm rounded-md text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 file:border-0 file:mr-4 file:py-3 file:px-4 file:bg-white">
            </div>
            
        </div>
    </div>

    <div class="flex flex-col rounded-xl overflow-hidden border-4">
        <div class="bg-cyan-800 p-3">
            <h1 class="font-medium text-lg" i18n>Size of the polygon in the middle</h1>
        </div>
        <div class="px-5 grow bg-cyan-700 border-y-2">
            <p class="my-5" i18n>Set the size of the polygon in the middle here.</p>
            <p class="my-5" i18n>This value is determined by the surface area of your mirror.</p>
        </div>
        <div class="p-5 bg-cyan-700 ">
            <input type="range" min="0" max="400" [value]="lastUsedSettings?.generalSettings?.innerPolygonSize != undefined ? lastUsedSettings?.generalSettings?.innerPolygonSize : 50" (input)="updateSettingsAttribute($event, 'InnerPolygonSize')" class="form-range h-5 w-3/5 rounded-lg cursor-pointer mx-3">
            
            <span class="border-2 rounded w-1/5 inline-block mx-3">
                <input type="number" [value]="lastUsedSettings?.generalSettings?.innerPolygonSize != undefined ? lastUsedSettings?.generalSettings?.innerPolygonSize : 50" (input)="updateSettingsAttribute($event, 'InnerPolygonSize')" class="text-white text-left appearance-none bg-inherit w-1/2 shrink h-5">
                <span class="w-6" i18n>px</span>
            </span>
        </div>
    </div>

    <div class="flex flex-col rounded-xl overflow-hidden border-4">
        <div class="bg-cyan-800 p-3">
            <h1 class="font-medium text-lg" i18n>Number of sides / images</h1>
        </div>
        <div class="px-5 grow bg-cyan-700 border-y-2">
            <p class="my-5" i18n>With this setting you can adjust the number of sides the polygon has.</p>
            <p class="my-5" i18n>Each side displays an image. The number should be between 3 and 10.</p>
            <p class="my-5" i18n>You can use as many images as the polygon has sides. If you use fewer images, the images will be repeated.</p>
        </div>
        <div class="p-5 bg-cyan-700 ">
            <input type="range" min="3" max="10" [value]="lastUsedSettings?.generalSettings?.numberOfSides || 4" (input)="updateSettingsAttribute($event, 'NumberOfSides')" class="form-range h-5 w-3/5 rounded-lg cursor-pointer mx-3">
            
            <span class="border-2 rounded w-1/5 inline-block mx-3">
                <input type="number" [value]="lastUsedSettings?.generalSettings?.numberOfSides || 4" (input)="updateSettingsAttribute($event, 'NumberOfSides')" class="text-white text-left appearance-none bg-inherit w-1/3 shrink h-5">
                <span class="w-6" i18n>Sides</span>
            </span>
        </div>
    </div>
</div>